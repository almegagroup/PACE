
---

## ðŸ“„ 0.2E_domain_bound_frontend.md

```md
# Gate-0 â€” ID 0.2E  
## Domain-bound Frontend Rule

### Status
- **DONE**
- **FROZEN**

### Purpose
Ensure:
- A single canonical origin is assumed
- Authentication cookies are domain-safe
- Frontend does not infer or guess its runtime origin

### Core Rules
1. Frontend must never infer origin via `window.location`.
2. Canonical domain must be configuration-driven.
3. Backend origin and cookie origin must align.
4. API base must not contain paths (e.g. `/api`).

### Canonical Domain Definition
**File:** `src/config/domain.js`

```js
import { ENV } from './env';

export const CANONICAL_ORIGIN = ENV.API_BASE;

if (!CANONICAL_ORIGIN.startsWith('https://')) {
  throw new Error('[DOMAIN] API base must be https');
}
API Discipline
API calls use relative paths only.

/api is appended by callers, never stored in env.

Audit Proof
Static scans confirm absence of:

window.location.origin

document.domain

hostname / host

Dynamic origin inference

Invariant
Frontend must always behave as if deployed on its canonical domain.

yaml
Copy code

---

## âœ… What you do next (exact)

1. Create `/docs/gate-0/`
2. Paste the three files exactly as above
3. Commit **code + docs together** to **dev branch**

### Recommended commit message
```text
chore(gate-0): lock frontend env, deploy neutrality, domain binding
